# Wallpaper Engine to Web Exporter - Examples

## Overview

This document provides examples of the output generated by the Wallpaper Engine to Web Exporter for different types of wallpapers. It explains the structure of the generated files and how to customize them.

## Sample Output for Each Wallpaper Type

### Video Wallpapers

Video wallpapers contain video files (.mp4, .webm) or animated images (.gif) and may include synchronized audio files (.mp3, .ogg).

#### Generated File Structure

```
output/web/{wallpaper_id}/
├── index.html
├── script.js
├── assets/
│   ├── background.mp4
│   └── background.mp3
└── readme.md
```

#### Example HTML (index.html)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallpaper Engine - {wallpaper_id}</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
        }
        video {
            position: fixed;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -10;
            transform: translate(-50%, -50%);
            background-size: cover;
        }
        audio {
            display: none;
        }
    </style>
</head>
<body>
    <video autoplay loop muted playsinline>
        <source src="assets/background.mp4" type="video/mp4">
    </video>
    <audio autoplay loop hidden>
        <source src="assets/background.mp3" type="audio/mpeg">
    </audio>
    <script src="script.js"></script>
</body>
</html>
```

#### Example JavaScript (script.js)

```javascript
// Video Wallpaper Script for {wallpaper_id}
document.addEventListener('DOMContentLoaded', function() {
    const video = document.querySelector('video');
    
    // Handle video playback
    if (video) {
        video.play().catch(error => {
            console.log("Video autoplay failed:", error);
        });
        
        // Add click to play/pause functionality
        video.addEventListener('click', function() {
            if (video.paused) {
                video.play();
            } else {
                video.pause();
            }
        });
    }
    
    // Handle audio playback if present
    const audio = document.querySelector('audio');
    if (audio) {
        audio.play().catch(error => {
            console.log("Audio autoplay failed:", error);
        });
    }
    
    // Handle window resize
    function resizeVideo() {
        if (!video) return;
        
        const windowRatio = window.innerWidth / window.innerHeight;
        const videoRatio = video.videoWidth / video.videoHeight;
        
        if (windowRatio > videoRatio) {
            video.style.width = '100%';
            video.style.height = 'auto';
        } else {
            video.style.width = 'auto';
            video.style.height = '100%';
        }
    }
    
    window.addEventListener('resize', resizeVideo);
    video.addEventListener('loadeddata', resizeVideo);
});
```

### Parallax Wallpapers

Parallax wallpapers have multiple image layers that create a depth effect. Mouse movement controls the parallax effect.

#### Generated File Structure

```
output/web/{wallpaper_id}/
├── index.html
├── script.js
├── assets/
│   ├── background.png
│   ├── middleground.png
│   └── foreground.png
└── readme.md
```

#### Example HTML (index.html)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallpaper Engine - {wallpaper_id}</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
        }
        #parallax-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .parallax-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 110%;
            height: 110%;
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body>
    <div id="parallax-container"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
```

#### Example JavaScript (script.js)

```javascript
// Parallax Wallpaper Script for {wallpaper_id}
document.addEventListener('DOMContentLoaded', async function() {
    // Initialize PixiJS application
    const app = new PIXI.Application();
    await app.init({ 
        width: window.innerWidth, 
        height: window.innerHeight,
        backgroundColor: 0x000000,
        resizeTo: window
    });
    
    document.getElementById('parallax-container').appendChild(app.canvas);
    
    // Layer definitions with parallax depth
    const layers = [
        { url: 'assets/background.png', depth: 0.1 },
        { url: 'assets/middleground.png', depth: 0.5 },
        { url: 'assets/foreground.png', depth: 0.9 }
    ];
    
    // Load and create sprites for each layer
    const sprites = [];
    
    for (let i = 0; i < layers.length; i++) {
        const layer = layers[i];
        
        // Create texture and sprite
        const texture = await PIXI.Assets.load(layer.url);
        const sprite = PIXI.Sprite.from(texture);
        
        // Position sprite in the center
        sprite.anchor.set(0.5);
        sprite.x = app.screen.width / 2;
        sprite.y = app.screen.height / 2;
        
        // Scale sprite to cover the screen with some extra space for parallax
        const scale = Math.max(
            app.screen.width / sprite.width,
            app.screen.height / sprite.height
        ) * 1.2;
        sprite.scale.set(scale);
        
        // Store reference to sprite and depth
        sprite.parallaxDepth = layer.depth;
        sprites.push(sprite);
        
        // Add sprite to stage (back to front)
        app.stage.addChild(sprite);
    }
    
    // Handle mousemove for parallax effect
    document.addEventListener('mousemove', (e) => {
        const mouseX = e.clientX / window.innerWidth - 0.5;
        const mouseY = e.clientY / window.innerHeight - 0.5;
        
        sprites.forEach(sprite => {
            sprite.x = app.screen.width / 2 + mouseX * sprite.parallaxDepth * 50;
            sprite.y = app.screen.height / 2 + mouseY * sprite.parallaxDepth * 50;
        });
    });
    
    // Handle window resize
    window.addEventListener('resize', () => {
        app.renderer.resize(window.innerWidth, window.innerHeight);
        
        // Reposition all sprites
        sprites.forEach(sprite => {
            sprite.x = app.screen.width / 2;
            sprite.y = app.screen.height / 2;
        });
    });
});
```

### Hybrid Wallpapers

Hybrid wallpapers are complex wallpapers that may include particles, effects, and shaders.

#### Generated File Structure

```
output/web/{wallpaper_id}/
├── index.html
├── script.js
├── assets/
│   ├── image.png
│   ├── particles/
│   │   └── system.json
│   ├── effects/
│   │   ├── reflection.frag
│   │   └── reflection.vert
│   └── shaders/
│       ├── effect.frag
│       └── effect.vert
└── readme.md
```

#### Example HTML (index.html)

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallpaper Engine - {wallpaper_id}</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
        }
        #hybrid-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div id="hybrid-container"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
```

#### Example JavaScript (script.js)

```javascript
// Hybrid Wallpaper Script for {wallpaper_id}
document.addEventListener('DOMContentLoaded', async function() {
    // Initialize PixiJS application
    const app = new PIXI.Application();
    await app.init({ 
        width: window.innerWidth, 
        height: window.innerHeight,
        backgroundColor: 0x000000,
        resizeTo: window
    });
    
    document.getElementById('hybrid-container').appendChild(app.canvas);
    
    // TODO: Implement hybrid wallpaper features
    // This may include:
    // - Particle systems from particles/*.json
    // - Effects handling (reflection, water ripple, etc.)
    // - Shader processing
    
    console.log("Hybrid wallpaper {wallpaper_id} initialized");
    
    // Placeholder for particle system implementation
    function loadParticleSystems() {
        // Load and process particles/*.json files
        console.log("Loading particle systems...");
    }
    
    // Placeholder for effects implementation
    function loadEffects() {
        // Process effects like reflection, water ripple, etc.
        console.log("Loading effects...");
    }
    
    // Placeholder for shaders implementation
    function loadShaders() {
        // Process shaders (.frag/.vert) files
        console.log("Loading shaders...");
    }
    
    // Initialize all hybrid features
    loadParticleSystems();
    loadEffects();
    loadShaders();
    
    // Handle window resize
    window.addEventListener('resize', () => {
        app.renderer.resize(window.innerWidth, window.innerHeight);
    });
});
```

## Dual-Source Asset Examples

With the enhanced dual-source processing, wallpapers can now utilize assets from both the original and unpacked sources. Here are examples of how assets are reconciled:

### Mixed Source Assets

When a wallpaper has assets in both sources, the converter uses the following priority rules:

```
output/web/{wallpaper_id}/
├── index.html
├── script.js
├── assets/
│   ├── high_quality_texture.png     # From unpacked source (PNG)
│   ├── original_video.mp4           # From original source (MP4)
│   ├── audio_file.mp3               # From original source (MP3)
│   ├── particle_system.json         # From unpacked source (JSON)
│   ├── effect_shader.frag           # From unpacked source (FRAG)
│   └── effect_shader.vert           # From unpacked source (VERT)
└── readme.md                        # With source information for each asset
```

### Example readme.md with Source Information

The generated readme.md now includes detailed information about which source each asset came from:

```markdown
# Wallpaper Engine to Web Export - {wallpaper_id}

## Wallpaper Information
- **ID**: {wallpaper_id}
- **Type**: Hybrid Wallpaper
- **Conversion Date**: 2023-06-15 14:30:45

## Asset Summary
- **Video Files**:
  - background.mp4 (source: original)
- **Audio Files**:
  - soundtrack.mp3 (source: original)
- **Image Files**:
  - high_quality.png (source: unpacked)
  - texture.png (source: unpacked)
- **Particle Files**:
  - particles/system.json (source: unpacked)
- **Effect Files**:
  - effects/reflection.frag (source: unpacked)
  - effects/reflection.vert (source: unpacked)
- **Shader Files**:
  - shaders/wave_effect.frag (source: unpacked)
  - shaders/wave_effect.vert (source: unpacked)

## Implementation Details

### Hybrid Wallpaper Implementation
- Complex wallpaper with particles, effects, and shaders
- Implemented using PixiJS for advanced graphics capabilities
- Particle systems loaded from JSON configuration files
- Effect processing for visual enhancements
- Shader support for advanced visual effects

## Usage Instructions

1. Open `index.html` in a web browser
2. The wallpaper should automatically start playing
3. For parallax wallpapers, move your mouse to see the effect
4. For video wallpapers, click to pause/resume

## Limitations

- Some advanced Wallpaper Engine features may not be fully supported
- Shader effects might be simplified or omitted
- Performance may vary based on system capabilities
- Browser compatibility depends on PixiJS support

## Converted Files

- `index.html` - Main HTML file
- `script.js` - JavaScript implementation
- `assets/` - Directory containing all media files

---
Generated by Wallpaper Engine to Web Exporter
```

### When Original Source is Missing

If only the unpacked source is available, all assets come from that source:

```
output/web/{wallpaper_id}/
├── index.html
├── script.js
├── assets/
│   ├── texture.png              # From unpacked source
│   ├── particles/
│   │   └── system.json          # From unpacked source
│   ├── effects/
│   │   ├── reflection.frag      # From unpacked source
│   │   └── reflection.vert      # From unpacked source
│   └── shaders/
│       ├── effect.frag          # From unpacked source
│       └── effect.vert          # From unpacked source
└── readme.md                    # Showing all assets from unpacked source
```

### When Unpacked Source is Missing

If only the original source is available, limited assets are used:

```
output/web/{wallpaper_id}/
├── index.html
├── script.js
├── assets/
│   ├── video.mp4                # From original source
│   └── audio.mp3                # From original source
└── readme.md                    # Showing all assets from original source
```

## Explanation of Generated Files

### index.html

The main HTML file that serves as the entry point for the web wallpaper. It includes:

- Responsive viewport meta tag for proper display on different devices
- CSS styling for fullscreen display
- Container div for the PixiJS application
- References to external libraries (PixiJS CDN)
- Reference to the script.js file

### script.js

The JavaScript file that implements the interactive behavior of the wallpaper. It includes:

- Initialization of the PixiJS application
- Loading and processing of assets
- Implementation of wallpaper-specific features (parallax, particles, etc.)
- Event handlers for user interaction and window resizing
- Animation loop for smooth rendering

### assets/

The directory containing all media files used by the wallpaper:

- Images (.png, .jpg)
- Videos (.mp4, .webm)
- Audio (.mp3, .ogg)
- Particle system files (.json)
- Effect files (.json)
- Shader files (.frag, .vert)

### readme.md

A documentation file that provides information about the wallpaper:

- Wallpaper ID and type
- List of assets included with source information
- Implementation details
- Usage instructions
- Limitations and known issues

## How to Customize the Output

### Customizing HTML

To customize the HTML structure:

1. Modify the `templates/index.html` file
2. Add custom CSS styles within the `<style>` tags
3. Add additional HTML elements as needed
4. Run the converter again to apply changes

### Customizing JavaScript

To customize the JavaScript behavior:

1. Modify the `templates/script.js` file
2. Add custom functions for additional features
3. Modify existing functions to change behavior
4. Run the converter again to apply changes

### Adding Custom Assets

To add custom assets:

1. Place files in the appropriate directory within `assets/To_convert/{wallpaper_id}/` or `output/unpacked/{wallpaper_id}/`
2. Ensure the directory structure matches the expected format
3. Run the converter to process the wallpaper with the new assets

### Modifying Templates

To modify the templates for all wallpapers:

1. Edit `templates/index.html` for HTML changes
2. Edit `templates/script.js` for JavaScript changes
3. Run the converter to apply changes to all wallpapers

## Best Practices for Customization

1. **Preserve Core Functionality**: Ensure that any modifications don't break the core functionality of the wallpaper types
2. **Test Across Browsers**: Verify that customizations work in different browsers
3. **Optimize Assets**: Keep file sizes small for better performance
4. **Document Changes**: Update the readme.md files to reflect any customizations
5. **Backup Originals**: Keep copies of original template files before making modifications

This examples documentation provides a comprehensive overview of the output generated by the Wallpaper Engine to Web Exporter, helping users understand the structure and customize their web wallpapers effectively.